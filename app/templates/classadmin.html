{% extends "base.html"%}
{% from 'bootstrap/form.html' import render_form %}
{% from 'bootstrap/form.html' import render_form_row%}
{% from 'bootstrap/form.html' import render_field %}
{% block content%}

<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link active" data-toggle="tab" href="#home">报名表上传</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#menu1">报名信息</a>
  </li>
   <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#menu2">添加单个学生</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#menu3">已取消项目处理</a>
  </li>

</ul>
     <!-- Tab panes -->
<div class="tab-content">
    <div class="tab-pane active container" id="home">
        <form method="post" action="/admin/upload_class_table" enctype="multipart/form-data">
      {{form.csrf_token}}
      {{render_field(form.file, accept=".xlsx")}}
      {{form.submit}}
    </form>
        <hr>
        <a href="/admin/download_class_table">下载空报名表</a>
         {% for message in get_flashed_messages()%}
        <p class="alert alert-danger">{{message}}</p>
        {%endfor%}
    </div>

    <div class="tab-pane container" id="menu1">
        <table class="table table-striped table-bordered table-sm table-responsive">
            <thead>
            <th>姓名</th>
            <th>联系人1</th>
            <th>联系人2</th>
            <th>项目1</th>
            <th>项目2</th>
            <th>项目3</th>
            <th>项目4</th>
            <th>合计</th>
            </thead>
            <tbody>
            {% for info in infos%}
            <tr>
                {% for data in info %}
                <td>{{data}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
            </tbody>
        </table>


    </div>
    <div class="tab-pane container" id="menu2">
        <form class="form" role="form" action="/admin/add_student">
        {{form1.csrf_token}}
         {{render_form_row([form1.name, form1.contact1, form1.contact2])}}
        {{render_form_row([form1.sub1,form1.sub2, form1.sub3, form1.sub4])}}
        {{render_form_row([form1.add_submit])}}
        </form>
    </div>
    <div class="tab-pane container" id="menu3">
        已取消项目处理</div>
    </div>
{%endblock%}
